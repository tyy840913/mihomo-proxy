# Mihomoè„šæœ¬åŒ…ç®¡ç†ä¼˜åŒ–å»ºè®®

## ğŸ” å½“å‰åŒ…å®‰è£…åˆ†æ

### å·²å®‰è£…çš„åŒ…åˆ—è¡¨

#### æ ¸å¿ƒä¾èµ–åŒ…
- **jq** - JSONå¤„ç†å·¥å…·ï¼ˆé‡å¤å®‰è£…ï¼‰
- **curl** - HTTPå®¢æˆ·ç«¯å·¥å…·
- **wget** - æ–‡ä»¶ä¸‹è½½å·¥å…·

#### Dockerç›¸å…³åŒ…
- **apt-transport-https** - HTTPSä¼ è¾“æ”¯æŒ
- **ca-certificates** - CAè¯ä¹¦
- **software-properties-common** - è½¯ä»¶æºç®¡ç†å·¥å…·
- **docker-ce** - Dockerç¤¾åŒºç‰ˆå¼•æ“
- **docker-ce-cli** - Dockerå‘½ä»¤è¡Œç•Œé¢
- **containerd.io** - å®¹å™¨è¿è¡Œæ—¶

## âš ï¸ å‘ç°çš„é—®é¢˜

### 1. é‡å¤å®‰è£…jq
**é—®é¢˜**: `mihomo.sh` å’Œ `setup_proxy.sh` éƒ½æœ‰å®‰è£…jqçš„ä»£ç 
**ä½ç½®**: 
- mihomo.sh:104-110è¡Œ
- setup_proxy.sh:36-42è¡Œ

### 2. Dockerå®‰è£…å‘½ä»¤è¿‡æ—¶
**é—®é¢˜**: ä½¿ç”¨äº†å·²å¼ƒç”¨çš„`apt-key add`å‘½ä»¤
**ä½ç½®**: setup_proxy.sh:149è¡Œ

### 3. ç¼ºå°‘ç³»ç»Ÿç±»å‹æ£€æµ‹
**é—®é¢˜**: Dockerå®‰è£…åªè€ƒè™‘äº†Debian/Ubuntuï¼Œä½†ç¡¬ç¼–ç äº†Debianæº
**ä½ç½®**: setup_proxy.sh:152è¡Œ

### 4. wgetå®‰è£…æ—¶æœºé—®é¢˜
**é—®é¢˜**: åªåœ¨éœ€è¦ä¸‹è½½UIæ—¶æ‰æ£€æŸ¥å’Œå®‰è£…wget
**ä½ç½®**: setup_proxy.sh:346-348è¡Œ

## ğŸ› ï¸ ä¼˜åŒ–å»ºè®®

### 1. æ¶ˆé™¤é‡å¤å®‰è£…
å°†jqå®‰è£…é€»è¾‘ç»Ÿä¸€åˆ°ä¸»è„šæœ¬ä¸­ï¼Œsetup_proxy.shåªéœ€è°ƒç”¨æ£€æŸ¥å‡½æ•°ã€‚

### 2. æ›´æ–°Dockerå®‰è£…æ–¹æ³•
ä½¿ç”¨ç°ä»£çš„GPGå¯†é’¥ç®¡ç†æ–¹å¼ï¼š
```bash
# æ›¿ä»£apt-key addï¼ˆå·²å¼ƒç”¨ï¼‰
curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# ä½¿ç”¨ç­¾åæº
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable" > /etc/apt/sources.list.d/docker.list
```

### 3. æ”¹è¿›ç³»ç»Ÿæ£€æµ‹
æ ¹æ®å®é™…æ“ä½œç³»ç»Ÿé€‰æ‹©æ­£ç¡®çš„Dockeræºï¼š
```bash
if [[ "$OS" == "ubuntu" ]]; then
    echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
else
    echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable"
fi
```

### 4. ç»Ÿä¸€ä¸‹è½½å·¥å…·ç®¡ç†
åœ¨è„šæœ¬å¼€å§‹æ—¶ç»Ÿä¸€æ£€æŸ¥å’Œå®‰è£…å¿…è¦çš„ä¸‹è½½å·¥å…·ã€‚

### 5. å¯é€‰åŒ…ç®¡ç†
å°†ä¸€äº›éå¿…éœ€çš„åŒ…ï¼ˆå¦‚UIä¸‹è½½ç›¸å…³ï¼‰è®¾ç½®ä¸ºå¯é€‰å®‰è£…ã€‚

## ğŸ“‹ å¯ç§»é™¤çš„åŒ…

### å®Œå…¨å¯ç§»é™¤
- æ— ï¼ˆæ‰€æœ‰åŒ…éƒ½æœ‰å…¶ç”¨é€”ï¼‰

### å¯è®¾ä¸ºå¯é€‰
- **wget** - ä»…UIä¸‹è½½éœ€è¦ï¼Œå¯è®¾ä¸ºå¯é€‰åŠŸèƒ½
- **software-properties-common** - ä»…åœ¨éœ€è¦æ·»åŠ è½¯ä»¶æºæ—¶å®‰è£…

## ğŸ¯ æ¨èçš„æœ€å°åŒ–å®‰è£…åˆ—è¡¨

### æ ¸å¿ƒå¿…éœ€åŒ…
1. **jq** - çŠ¶æ€æ–‡ä»¶å¤„ç†
2. **curl** - ç½‘ç»œä¸‹è½½å’ŒDockerå®‰è£…
3. **DockeråŒ…ç»„åˆ** - æ ¸å¿ƒåŠŸèƒ½

### æŒ‰éœ€å®‰è£…åŒ…
1. **wget** - ä»…åœ¨å¯ç”¨UIåŠŸèƒ½æ—¶å®‰è£…
2. **software-properties-common** - ä»…åœ¨éœ€è¦æ·»åŠ è½¯ä»¶æºæ—¶å®‰è£…

## ğŸ“Š ä¼˜åŒ–åçš„ç›Šå¤„

1. **å‡å°‘å®‰è£…æ—¶é—´** - æ¶ˆé™¤é‡å¤å®‰è£…
2. **æé«˜å…¼å®¹æ€§** - ä½¿ç”¨ç°ä»£Dockerå®‰è£…æ–¹æ³•
3. **å‡å°‘ç³»ç»Ÿè´Ÿæ‹…** - æœ€å°åŒ–ä¸å¿…è¦çš„åŒ…
4. **æé«˜ç»´æŠ¤æ€§** - ç»Ÿä¸€çš„åŒ…ç®¡ç†é€»è¾‘ 